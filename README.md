# RESTful-API

## REST

- REpresentational State Transfer
- 분산 하이퍼미디어 시스템(웹 같은)을 위한 아키텍처 스타일
- HTTP 프로토콜을 의도에 맞게 디자인하도록 유도함
- REST의 기본 원칙을 성실히 지킨 서비스 디자인을 RESTful하다라고 말함 

⇒ **HTTP를 기반으로 클라이언트가 서버의 리소스에 접근하는 방식을 규정한 아키텍처**

 
## REST API 구성
- 자체 표현 구조로 구성되어 있음 → REST API만으로도 HTTP 요청의 내용을 이해할 수 있음
- 그러나 리소스를 URI로 표현하는 것까지고는 아무것도 할 수 없음
 -> 그저 식별하는 이름일 뿐이므로 가공하기 위해서는 CRUD가 필요함 
    

### REST API 설계 원칙

1. `URI`는 **리소스를 표현**하는 데 집중함
    - 리소스를 식별할 수 있는 이름은 동사보다 명사 사용
    - 이름에 get 같은 행위에 대한 표현은 X
    
    ```jsx
    #good 
    GET todos/1
    
    #bad
    GET /getTodos/1
    GET /todos/show/1
    ```
    
2. **행위에 대한 정의**는 `HTTP 요청 메서드`를 통해 
    - HTTP 요청 메서드는 클라이언트가 서버에게 **요청의 종류**와 목적(리소스에 대한 행위)를 알리는 방법 
    
    | HTTP 요청 메서드 | 종류 | 목적 | 페이로드 |
    | --- | --- | --- | --- |
    | GET | index/retrieve | 모든/특정 리소스 취득 | X |
    | POST  | create | 리소스 생성 | O |
    | PUT | replace | 리소스의 전체 교체 | O |
    | PATCH | modify | 리소스의 일부 수정 | O |
    | DELETE | delete | 모든/특정 리소스 삭제 | X |

    

### 원칙(HTTP만 잘 따라도…)

- stateles
    - 서버가 이전의 모든 요청과 독립적으로 모든 클라이언트 요청 완료
    - 모든 요청은 무상태, 다른 요청과 분리됨
    - **요청하는 서버에는 클라이언트 콘텐츠가 저장되지 않음**
    - **세션 상태에 대한 정보는 클라이언트에 저장됨**
- layer system
    - **서버는 다중 계층으로 구성될 수 있음** 
    - 클라이언트 요청을 이행하기 위한 보안 등 여러 계층으로 여러 서버에서 실행되도록 설계할 수 있음
    - **그러나 클라이언트는 서버에 직접 연결되었는지, 중간 서버를 통해 연결되었는지 알 수 없음**
- cache
    - 중개자에 일부 응답을 저장하는 프로세스인 캐싱 지원
    - 클라이언트-서버 간 의존성을 부분적으로 완화
- code-on-demand (optional)
    - 서버가 클라이언트 기능을 일시적으로 확장, 사용자 지정할 수 있음
    - 자바스크립트가 그 예시임 
- **uniform interface**
    - 요구사항별로 표준화된 형식으로 데이터를 전송할 수 있도록 통합된 인터페이스
        1. **자원에 대한 식별**
            1. 자원: 이름을 지닐 수 있는 모든 정보, 개념적인 대상
            2. 문서, 이미지 등
            3. 자원은 '객체' → 생성,변화, 파괴 ⇒ 변화 가능 ⇒ 변하지 않는 '식별자' 필요
            4. 서버의 개별 자원에 대한 고유한 식별자로 URI를 사용 
        2. **표현을 통한 자원에 대한 조작**
            1. 표현: 특정한 상태의 자원에 대한 표현
            2. 자원은 다양한 방식으로 표현 가능      
        3. **self-descriptive messages : 메시지는 스스로를 설명해야 함**
            - 클라이언트, 서버 사이의 수많은 중개자(컴포넌트)들이 존재, 이들은 메시지 내용을 참고하여 적절한 작업 수행할 수 있도록
            - Host 헤더에 도메인명 기재 등이 필요함
            
            ```jsx
            GET / HTTP/1.1 (목적지가 빠져있음)
            Host: www.example.org
            ```
            
        4. **hypermedia as the engine of application state(HATEOAS): 애플리케이션의 상태는 하이퍼링크를 이용해 전이되어야 함**
       
            - 렌더링된 앵커 태그를 활용하여 해당 페이지 이동 가능
            ⇒ **하이퍼미디어**를 통한 **애플리케이션 상태 변경**
            - 해당 페이지에 있던 링크를 따라 가며 전이됨
            
---
## Reference
- [그런 REST API로 괜찮은가] https://www.youtube.com/watch?v=RP_f5dMoHFc
- 모던자바스크립트 
